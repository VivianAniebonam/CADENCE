{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nasty\\\\Downloads\\\\CADENCE-Frontend (2)\\\\CADENCE-Frontend\\\\src\\\\pages\\\\ProfileEdit.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/ProfileEdit.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileEdit = () => {\n  _s();\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState({\n    instruments: \"\",\n    genres: \"\",\n    influences: \"\",\n    city: \"\",\n    bio: \"\",\n    yearsOfExperience: 0,\n    socialMediaLinks: []\n  });\n  const getProfile = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(\"http://localhost:5000/api/profile\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data) {\n        setProfile({\n          instruments: response.data.instruments.join(\", \"),\n          genres: response.data.genres.join(\", \"),\n          influences: response.data.influences.join(\", \"),\n          city: response.data.city,\n          bio: response.data.bio,\n          yearsOfExperience: response.data.yearsOfExperience,\n          socialMediaLinks: response.data.socialMediaLinks || []\n        });\n      }\n    } catch (error) {\n      console.error(\"Error fetching profile:\", error);\n    }\n  };\n  const handleUpdate = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.put(\"http://localhost:5000/api/profile\", {\n        instruments: profile.instruments.split(\",\").map(i => i.trim()),\n        genres: profile.genres.split(\",\").map(g => g.trim()),\n        influences: profile.influences.split(\",\").map(i => i.trim()),\n        city: profile.city,\n        bio: profile.bio,\n        yearsOfExperience: Number(profile.yearsOfExperience),\n        socialMediaLinks: profile.socialMediaLinks\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (response.data) {\n        alert(\"Profile updated successfully!\");\n        navigate(\"/profile\");\n      }\n    } catch (error) {\n      console.error(\"Update Error:\", error);\n      alert(\"Something went wrong while updating your profile.\");\n    }\n  };\n  useEffect(() => {\n    getProfile();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"edit-profile-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"EDIT PROFILE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: profile.instruments,\n      onChange: e => setProfile({\n        ...profile,\n        instruments: e.target.value\n      }),\n      placeholder: \"Instruments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: profile.genres,\n      onChange: e => setProfile({\n        ...profile,\n        genres: e.target.value\n      }),\n      placeholder: \"Genres\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      value: profile.yearsOfExperience,\n      onChange: e => setProfile({\n        ...profile,\n        yearsOfExperience: e.target.value\n      }),\n      placeholder: \"Years of Experience\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: profile.influences,\n      onChange: e => setProfile({\n        ...profile,\n        influences: e.target.value\n      }),\n      placeholder: \"Influences\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: profile.city,\n      onChange: e => setProfile({\n        ...profile,\n        city: e.target.value\n      }),\n      placeholder: \"City\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: profile.bio,\n      onChange: e => setProfile({\n        ...profile,\n        bio: e.target.value\n      }),\n      placeholder: \"Bio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpdate,\n      children: \"Update My Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileEdit, \"c7PiV5wgV1okDktWlUiMuavQ0b4=\", false, function () {\n  return [useNavigate];\n});\n_c = ProfileEdit;\nexport default ProfileEdit;\nvar _c;\n$RefreshReg$(_c, \"ProfileEdit\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","jsxDEV","_jsxDEV","ProfileEdit","_s","navigate","profile","setProfile","instruments","genres","influences","city","bio","yearsOfExperience","socialMediaLinks","getProfile","token","localStorage","getItem","response","get","headers","Authorization","data","join","error","console","handleUpdate","put","split","map","i","trim","g","Number","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nasty/Downloads/CADENCE-Frontend (2)/CADENCE-Frontend/src/pages/ProfileEdit.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/ProfileEdit.css\";\n\nconst ProfileEdit = () => {\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState({\n    instruments: \"\",\n    genres: \"\",\n    influences: \"\",\n    city: \"\",\n    bio: \"\",\n    yearsOfExperience: 0,\n    socialMediaLinks: [],\n  });\n\n  const getProfile = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await axios.get(\"http://localhost:5000/api/profile\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      if (response.data) {\n        setProfile({\n          instruments: response.data.instruments.join(\", \"),\n          genres: response.data.genres.join(\", \"),\n          influences: response.data.influences.join(\", \"),\n          city: response.data.city,\n          bio: response.data.bio,\n          yearsOfExperience: response.data.yearsOfExperience,\n          socialMediaLinks: response.data.socialMediaLinks || [],\n        });\n      }\n    } catch (error) {\n      console.error(\"Error fetching profile:\", error);\n    }\n  };\n\n  const handleUpdate = async () => {\n    try {\n      const token = localStorage.getItem(\"token\");\n\n      const response = await axios.put(\"http://localhost:5000/api/profile\", {\n        instruments: profile.instruments.split(\",\").map(i => i.trim()),\n        genres: profile.genres.split(\",\").map(g => g.trim()),\n        influences: profile.influences.split(\",\").map(i => i.trim()),\n        city: profile.city,\n        bio: profile.bio,\n        yearsOfExperience: Number(profile.yearsOfExperience),\n        socialMediaLinks: profile.socialMediaLinks,\n      }, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n\n      if (response.data) {\n        alert(\"Profile updated successfully!\");\n        navigate(\"/profile\");\n      }\n    } catch (error) {\n      console.error(\"Update Error:\", error);\n      alert(\"Something went wrong while updating your profile.\");\n    }\n  };\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n\n  return (\n    <div className=\"edit-profile-container\">\n      <h2>EDIT PROFILE</h2>\n      <input type=\"text\" value={profile.instruments} onChange={(e) => setProfile({ ...profile, instruments: e.target.value })} placeholder=\"Instruments\" />\n      <input type=\"text\" value={profile.genres} onChange={(e) => setProfile({ ...profile, genres: e.target.value })} placeholder=\"Genres\" />\n      <input type=\"number\" value={profile.yearsOfExperience} onChange={(e) => setProfile({ ...profile, yearsOfExperience: e.target.value })} placeholder=\"Years of Experience\" />\n      <input type=\"text\" value={profile.influences} onChange={(e) => setProfile({ ...profile, influences: e.target.value })} placeholder=\"Influences\" />\n      <input type=\"text\" value={profile.city} onChange={(e) => setProfile({ ...profile, city: e.target.value })} placeholder=\"City\" />\n      <textarea value={profile.bio} onChange={(e) => setProfile({ ...profile, bio: e.target.value })} placeholder=\"Bio\"></textarea>\n      <button onClick={handleUpdate}>Update My Profile</button>\n    </div>\n  );\n};\n\nexport default ProfileEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}